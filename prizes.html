<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dance-Offs: Prizes</title>

  <link rel="stylesheet" href="style2.css?v=1050">
  <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    /* Rolling Banner Container */
    .prize-banner {
      width: 100%;
      overflow: hidden;
      background: #111;
      padding: 20px 0;
      box-shadow: inset 0 0 20px #000;
    }

    /* Track that scrolls */
    .prize-track {
      display: flex;
      width: calc(320px * 8);
      animation: scroll 28s linear infinite;
    }

    /* Each image */
    .prize-track img {
      width: 300px;
      height: 200px;
      object-fit: cover;
      margin-right: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px #000;
    }

    /* Animation */
    @keyframes scroll {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    /* Title */
    .prize-title {
      text-align: center;
      font-size: 40px;
      font-family: 'Bangers', cursive;
      color: #ffcc00;
      margin-top: 20px;
      text-shadow: 2px 2px 5px #000;
    }
  </style>
</head>

<body>

  <!-- NAVIGATION -->
  <nav class="navbar">
    <a href="index.html">Home</a>

    <div class="dropdown">
      <a href="dancers.html">Dancers</a>
    </div>

    <div class="dropdown">
      <a href="djs.html">DJs</a>
    </div>

    <a href="vote.html">Vote</a>

    <a href="prizes.html" class="active">Prizes</a>

    <div class="dropdown">
      <a href="shop.html">Shop</a>
    </div>
  </nav>

  <!-- TITLE -->
  <h1 class="prize-title">Weekly Prizes</h1>

  <!-- ROLLING BANNER -->
  <div class="prize-banner">
    <div class="prize-track">

      <!-- Ibiza Sunset -->
      <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800" alt="Ibiza Sunset">

      <!-- Berlin Techno Club -->
      <img src="https://images.unsplash.com/photo-1519677100203-a0e668c92439?w=800" alt="Berlin Techno Club">

      <!-- Liverpool Docks -->
      <img src="https://images.unsplash.com/photo-1581349481268-1c1f908db8b2?w=800" alt="Liverpool Docks">

      <!-- Beat-Herder Festival -->
      <img src="https://images.unsplash.com/photo-1508609349937-5ec4ae374ebf?w=800" alt="Beat-Herder Festival">

      <!-- Duplicate for seamless infinite scroll -->
      <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800" alt="Ibiza Sunset">
      <img src="https://images.unsplash.com/photo-1519677100203-a0e668c92439?w=800" alt="Berlin Techno Club">
      <img src="https://images.unsplash.com/photo-1581349481268-1c1f908db8b2?w=800" alt="Liverpool Docks">
      <img src="https://images.unsplash.com/photo-1508609349937-5ec4ae374ebf?w=800" alt="Beat-Herder Festival">

    </div>
  </div>

  <!-- DESCRIPTION SECTION -->
  <section style="text-align:center; margin:40px auto; max-width:800px; padding:0 20px;">
    <h2 style="
      font-family:'Bangers', cursive;
      font-size:36px;
      color:#ffcc00;
      text-shadow:2px 2px 5px #000;
      margin-bottom:10px;
    ">
      Want to Win Even Bigger?
    </h2>

    <p style="
      font-size:18px;
      color:#ddd;
      line-height:1.6;
      margin-bottom:20px;
    ">
      Each week we drop fresh Dance-Offs prizes — merch, tickets, VIP shoutouts, and surprise rewards.  
      To buy votes and boost your favourite dancer, you’ll need to enter your name and email address first.  
      Once you’re registered, you can also enter the Monthly Prize Draw for a chance to win something huge.
    </p>

    <a href="monthly.html" style="
      display:inline-block;
      padding:12px 24px;
      background:#ffcc00;
      color:#000;
      font-weight:700;
      border-radius:8px;
      text-decoration:none;
      font-size:20px;
      box-shadow:0 0 10px #ffcc00;
      margin-bottom:10px;
    ">
      View Monthly Prize
    </a>
  </section>

  <!-- EMAIL SIGNUP BOX -->
  <section style="
    max-width:500px;
    margin:40px auto;
    padding:20px;
    background:#1a1a1a;
    border:2px solid #ffcc00;
    border-radius:10px;
    box-shadow:0 0 15px #000;
    text-align:center;
  ">
    <h3 style="
      font-family:'Bangers', cursive;
      font-size:30px;
      color:#ffcc00;
      margin-bottom:15px;
      text-shadow:2px 2px 5px #000;
    ">
      Enter Your Details to Buy Votes
    </h3>

    <input type="text" id="userName" placeholder="Your Name" style="
      width:100%;
      padding:12px;
      margin-bottom:12px;
      border-radius:6px;
      border:2px solid #ffcc00;
      background:#332b00;
      color:#fff;
      font-size:16px;
      font-weight:600;
    ">

    <input type="email" id="userEmail" placeholder="Your Email Address" style="
      width:100%;
      padding:12px;
      margin-bottom:15px;
      border-radius:6px;
      border:2px solid #ffcc00;
      background:#332b00;
      color:#fff;
      font-size:16px;
      font-weight:600;
    ">

    <button onclick="submitDetails()" style="
      width:100%;
      padding:12px;
      background:#ffcc00;
      color:#000;
      font-weight:700;
      border:none;
      border-radius:6px;
      font-size:18px;
      cursor:pointer;
      box-shadow:0 0 10px #ffcc00;
    ">
      Continue
    </button>

    <!-- PAYMENT SECTION (HIDDEN UNTIL DETAILS SAVED) -->
    <div id="paymentSection" style="display:none; margin-top:20px;">
      <h3 style="
        font-family:'Bangers', cursive;
        font-size:28px;
        color:#ffcc00;
        text-shadow:2px 2px 5px #000;
        margin-bottom:10px;
      ">
        Buy Votes (£1)
      </h3>

      <div id="paypal-button-container"></div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    © 2026 Dance-Offs — Built by Baz
  </footer>

  <!-- PAYPAL SDK -->
  <script src="https://www.paypal.com/sdk/js?currency=GBP&client-id=YOUR_CLIENT_ID"></script>

  <script>
    const endpoint =
      "https://script.google.com/macros/s/AKfycbwuOUEAuAE4CfauFw9Xxv3BJenwCUaUNakrb7DTeTjJLZMK8S1hCXbcLRBHCY3FoFZD_g/exec";

    let savedName = "";
    let savedEmail = "";

    function submitDetails() {
      const name = document.getElementById("userName").value.trim();
      const email = document.getElementById("userEmail").value.trim();

      if (!name || !email) {
        alert("Please enter both your name and email.");
        return;
      }

      savedName = name;
      savedEmail = email;

      fetch(
        endpoint +
        "?mode=saveuser" +
        "&name=" + encodeURIComponent(name) +
        "&email=" + encodeURIComponent(email)
      )
      .then(r => r.text())
      .then(t => {
        document.getElementById("paymentSection").style.display = "block";
        alert("Details saved — now complete payment to buy votes.");
      })
      .catch(err => {
        console.error("Save error:", err);
        alert("There was a problem saving your details.");
      });
    }

    // PAYPAL BUTTON
    paypal.Buttons({
      createOrder: function(data, actions) {
        return actions.order.create({
          purchase_units: [{
            amount: { value: "1.00" }
          }]
        });
      },

      onApprove: function(data, actions) {
        return actions.order.capture().then(function(details) {

          // Log payment to Google Sheet
          fetch(
            endpoint +
            "?mode=payment" +
            "&name=" + encodeURIComponent(savedName) +
            "&email=" + encodeURIComponent(savedEmail) +
            "&amount=1.00"
          )
          .catch(err => console.error("Payment log error:", err));

          alert("Payment received — your votes are now active.");
        });
      }

    }).render("#paypal-button-container");
  </script>

</body>
</html>
