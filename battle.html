<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dance-Offs: Battle</title>

  <link rel="stylesheet" href="style2.css?v=1042">
  <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>

  <!-- NAVIGATION -->
  <nav class="navbar">
    <a href="index.html">Home</a>

    <div class="dropdown">
      <a href="dancers.html">Dancers</a>
      <div class="dropdown-menu">
        <a href="battle.html" class="active">Battle</a>
      </div>
    </div>

    <div class="dropdown">
      <a href="djs.html">DJs</a>
      <div class="dropdown-menu">
        <a href="battle.html">Battle</a>
      </div>
    </div>

    <a href="vote.html">Vote</a>
    <a href="merch.html">Merch</a>
  </nav>

  <!-- HERO BANNER -->
  <div class="hero">
    <div class="hero-img-wrap">
      <img src="dancer-hero2.jpg" alt="Dance-Offs Battle Banner">
      <a href="battle.html" class="hero-zone hero-left"></a>
      <a href="vote.html" class="hero-zone hero-right"></a>
    </div>
  </div>

  <!-- INSTRUCTION LINE -->
  <p class="instruction-line">
    Load your battle videos below.
  </p>

  <!-- PAGE CONTENT -->
  <main class="page-container">

    <!-- INPUTS -->
    <div class="battle-card" style="max-width:600px;">
      <label for="leftUrl">Left YouTube URL</label>
      <input id="leftUrl" class="input-field" type="text" placeholder="https://youtube.com/watch?v=...">

      <button class="vote-button" onclick="loadLeft()">
        Load Left Video
      </button>

      <hr style="margin:25px 0; border-color:#333;">

      <label for="rightUrl">Right YouTube URL</label>
      <input id="rightUrl" class="input-field" type="text" placeholder="https://youtube.com/watch?v=...">

      <button class="vote-button" onclick="loadRight()">
        Load Right Video
      </button>
    </div>

    <!-- VIDEO CONTAINER -->
    <div class="battle-videos" id="battleVideos"></div>

  </main>

  <!-- FOOTER -->
  <footer class="footer">
    © 2026 Dance-Offs — Built by Baz
  </footer>

  <!-- SCRIPT -->
  <script>
    function extractID(url) {
      try {
        const u = new URL(url);
        if (u.hostname.includes("youtu.be")) {
          return u.pathname.slice(1);
        }
        return u.searchParams.get("v");
      } catch {
        return null;
      }
    }

    function loadLeft() {
      const url = document.getElementById("leftUrl").value;
      const id = extractID(url);
      if (!id) return;

      const container = document.getElementById("battleVideos");
      const right = container.querySelector(".right-video");

      container.innerHTML = `
        <iframe class="left-video" src="https://www.youtube.com/embed/${id}" allowfullscreen></iframe>
        ${right ? right.outerHTML : ""}
      `;
    }

    function loadRight() {
      const url = document.getElementById("rightUrl").value;
      const id = extractID(url);
      if (!id) return;

      const container = document.getElementById("battleVideos");
      const left = container.querySelector(".left-video");

      container.innerHTML = `
        ${left ? left.outerHTML : ""}
        <iframe class="right-video" src="https://www.youtube.com/embed/${id}" allowfullscreen></iframe>
      `;
    }

    /* DEFAULT VIDEOS ON PAGE LOAD */
    window.onload = function () {
      document.getElementById("battleVideos").innerHTML = `
        <iframe class="left-video" src="https://www.youtube.com/embed/dQw4w9WgXcQ" allowfullscreen></iframe>
        <iframe class="right-video" src="https://www.youtube.com/embed/3JZ_D3ELwOQ" allowfullscreen></iframe>
      `;
    };
  </script>

</body>
</html>
