<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dance-Offs: Battle</title>
  <link rel="stylesheet" href="style2.css?v=23">
  <style>
    .dj-box {
      margin-top: 30px;
      padding: 15px;
      background: #f7f7f7;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }
    .dj-box h3 {
      margin-top: 0;
      font-size: 16px;
      font-weight: bold;
    }
  </style>
</head>

<body>

  <!-- Navigation -->
  <div class="navbar">
    <a href="index.html">Home</a>
    <a href="dancers.html">Dancers</a>
    <a href="battle.html" class="active">Battle</a>
    <a href="djs.html">DJs</a>
    <a href="vote.html">Vote</a>
    <a href="merch.html">Merch</a>
  </div>

  <!-- Page container -->
  <div class="page-container">

    <div class="battle-wrapper">

      <!-- LEFT COLUMN -->
      <div class="battle-column">

        <div class="input-box">
          <input id="leftInput" type="text" placeholder="Left YouTube URL">
          <button type="button" onclick="loadLeft()">Load Left</button>
        </div>

        <div class="video-label">Dancer Left</div>

        <div class="video-box">
          <iframe
            id="leftVid"
            src="https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1&mute=1&playsinline=1"
            allow="autoplay; encrypted-media"
            allowfullscreen>
          </iframe>
        </div>

      </div>

      <!-- RIGHT COLUMN -->
      <div class="battle-column">

        <div class="input-box">
          <input id="rightInput" type="text" placeholder="Right YouTube URL">
          <button type="button" onclick="loadRight()">Load Right</button>
        </div>

        <div class="video-label">Dancer Right</div>

        <div class="video-box">
          <iframe
            id="rightVid"
            src="https://www.youtube.com/embed/3JZ_D3ELwOQ?autoplay=1&mute=1&playsinline=1"
            allow="autoplay; encrypted-media"
            allowfullscreen>
          </iframe>
        </div>

      </div>

    </div>

    <!-- SoundCloud Player -->
    <div id="djContainer" class="dj-box">
      <h3>Now Playing</h3>
      <iframe
        id="scPlayer"
        width="100%"
        height="120"
        scrolling="no"
        frameborder="no"
        allow="autoplay">
      </iframe>
    </div>

  </div>

  <!-- Footer -->
  <div class="footer">
    © 2026 Dance-Offs — Built by Baz
  </div>

  <!-- Script -->
  <script>
    function extractVideoID(raw) {
      if (!raw) return null;
      const url = raw.trim();

      let match;

      match = url.match(/[?&]v=([^&#]+)/i);
      if (match) return match[1];

      match = url.match(/youtu\.be\/([^?&#]+)/i);
      if (match) return match[1];

      match = url.match(/shorts\/([^?&#]+)/i);
      if (match) return match[1];

      match = url.match(/embed\/([^?&#]+)/i);
      if (match) return match[1];

      return null;
    }

    function loadLeft() {
      const raw = document.getElementById("leftInput").value;
      const id = extractVideoID(raw);
      if (!id) return alert("Invalid YouTube URL");
      document.getElementById("leftVid").src =
        `https://www.youtube.com/embed/${id}?autoplay=1&mute=1&playsinline=1`;
    }

    function loadRight() {
      const raw = document.getElementById("rightInput").value;
      const id = extractVideoID(raw);
      if (!id) return alert("Invalid YouTube URL");
      document.getElementById("rightVid").src =
        `https://www.youtube.com/embed/${id}?autoplay=1&mute=1&playsinline=1`;
    }

    function loadDJ() {
      const scURL = "https://soundcloud.com/forss/flickermood"; // replace with your track
      const embedURL =
        "https://w.soundcloud.com/player/?url=" +
        encodeURIComponent(scURL) +
        "&color=%23ff5500&inverse=false&auto_play=false&show_user=true";
      document.getElementById("scPlayer").src = embedURL;
    }

    loadDJ();
  </script>

</body>
</html>
